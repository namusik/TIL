# WebHook

## 정의
- 서버 간에 이벤트 기반으로 데이터를 전달하는 방식
- 특정 이벤트가 발생할 때 자동으로 다른 서버에 HTTP 요청을 보내는 메커니즘

## 기원과 발전
- 초기 웹에서는 Polling 방식이 사용됨. 
  - 클라이언트가 주기적으로 서버에 요청을 보내 데티어를 확인
- 2000년대 후반부터 Github, Slack 등 주요 웹 서비스들이 웹훅을 채택.
  - GitHub: 코드 저장소의 변경 사항을 외부 서비스에 실시간으로 전송하여 CI/CD 파이프라인을 자동화.
  - Stripe: 결제 처리 후 결제 정보를 다른 시스템에 전송하여 재고 관리, 영수증 발행 등을 자동화.
  - Slack: 다양한 이벤트를 채팅방에 알림으로 전송하여 팀 협업을 강화.

## 개념
- 이벤트 기반 통신
  - 이벤트가 발생할 때 동작.
  -  사용자가 회원가입을 하면 웹훅이 트리거되어 해당 정보를 다른 서버로 보냄
-  HTTP 요청
   -  주로 HTTP POST 요청을 사용하여 데이터를 전송
-  수신 URL(엔드포인트)
   -   데이터가 전송될 URL을 지정

## 웹훅의 동작 과정
- 1. 이벤트 발생
  - 웹훅이 설정된 시스템에서 특정 이벤트가 발생
  -  예를 들어, GitHub에서 코드 저장소에 새로운 커밋이 푸시
- 2. 웹훅 트리거
  -  이벤트가 발생하면 웹훅이 트리거되어 사전에 설정된 엔드포인트로 HTTP 요청을 보낸다.
- 3. 데이터 전송
  - HTTP 요청에는 이벤트와 관련된 데이터가 포함
  - 주로 JSON
- 4. 수신 서버 처리
  - 엔드포인트를 제공하는 수신 서버는 요청을 받아서 해당 데이터를 처리
  - GitHub 웹훅을 통해 새로운 커밋 정보를 받아서 CI/CD 파이프라인을 시작

## 웹훅 사용 사례
- 지속적 통합/배포(CI/CD)
  - 코드 변경 사항이 푸시될 때 자동으로 빌드 및 배포 파이프라인을 시작.
- 알림 시스템
  - 특정 이벤트가 발생할 때 슬랙, 이메일 등으로 알림을 전송.
- 결제 처리
  - 결제 시스템에서 결제가 완료되면 웹훅을 통해 결제 정보를 다른 시스템으로 전송.
- 데이터 동기화
  - 여러 시스템 간의 데이터를 실시간으로 동기화.

## 개발 용어
- 웹훅 수신 엔드포인트
  -  다른 시스템이 당신의 애플리케이션에 이벤트를 알리기 위해 사용하는 곳
  -  다른 시스템이 이벤트를 발생시키면 이 엔드포인트로 HTTP 요청을 보냄
-  웹훅 발신 엔드포인트
   -   당신의 애플리케이션이 다른 시스템에 이벤트를 알리기 위해 사용하는 곳
   -   당신의 애플리케이션에서 주문이 완료되었을 때, 고객의 서버에 있는 이 엔드포인트로 HTTP POST 요청을 보냄