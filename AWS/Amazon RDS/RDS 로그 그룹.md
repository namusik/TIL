# RDS 로그 설정 

## cloudwatch 로그 설정

- 모니터링 로그 내보내기에서 저장하고 싶은 로그 선택.
- 향상된 모니터링 선택


### slow 쿼리
- 파라미터 그룹
  - long_query_time : 느린 쿼리의 기준 시간 
    - 기본값은 10초
  - slow_query_log : 느린 쿼리 로그 활성화 
    - 0: OFF 상태, 1: ON 상태
  - log_output:
    -	로그가 기록될 출력 위치를 지정합니다.
    -	TABLE: 로그가 RDS 데이터베이스의 mysql.slow_log 테이블에 저장
    -	FILE: 로그가 CloudWatch Logs로 저장
- SELECT SLEEP(2);

a. 실시간 시스템
	-	기준 시간: 0.5초~1초
	-	실시간 데이터베이스 또는 고성능 트랜잭션 시스템.
	-	예: 주식 거래 시스템, 게임 서버, 금융 거래 플랫폼.
	-	이 환경에서는 밀리초 단위의 응답 속도가 중요하므로 짧은 기준이 설정됩니다.

b. 일반적인 웹 애플리케이션
	-	기준 시간: 1초~3초
	-	사용자 경험을 중요하게 생각하는 일반적인 환경.
	-	예: 전자상거래 웹사이트, 블로그, 기업 애플리케이션.
	-	대부분의 쿼리가 1초 이내에 처리되기를 원하지만, 3초까지는 허용 가능한 범위로 간주됩니다.

c. 데이터 분석 환경
	-	기준 시간: 5초 이상
	-	데이터 웨어하우스나 OLAP 시스템에서 사용.
	-	배치 처리 작업이나 복잡한 분석 쿼리에서는 더 긴 시간이 허용됩니다.
	-	예: 대규모 데이터 분석, ETL(Extract, Transform, Load) 작업.

### audit 로그

- 데이터베이스 보안과 규제 준수를 위해 사용자 활동을 기록
- 사용자 활동:
	-	데이터베이스에 접속한 사용자 정보 (사용자 이름, IP 주소 등).
	-	특정 사용자가 실행한 DDL (Data Definition Language) 및 DML (Data Manipulation Language) 명령어.
	-	예: CREATE TABLE, DROP DATABASE, INSERT INTO, DELETE FROM.
	-	권한 변경 및 계정 관리 작업.
	-	예: GRANT, REVOKE, CREATE USER, DROP USER.
-	보안 이벤트:
	-	허용되지 않은 접속 시도(접근 실패).
	-	비정상적인 작업 (예: 권한 없는 사용자 작업 시도).
- 클러스터 파라미터 그룹
  - server_audit_events
    - 


### 일반 로그

- 데이터베이스에서 실행되는 모든 명령어 및 작업을 기록
- 클라이언트 연결 및 종료:
	-	데이터베이스에 연결하거나 연결을 끊은 시점.
	-	사용자 이름, IP 주소.
-	쿼리 기록:
	-	클라이언트가 실행한 모든 쿼리를 기록.
	-	예: SELECT, INSERT, UPDATE, DELETE.
-	오류:
	-	쿼리 실행 중 발생한 오류 메시지.
-	사용자 인증:
	-	인증 성공 또는 실패 기록.
